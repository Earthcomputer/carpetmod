--- ../src-base/minecraft/net/minecraft/entity/EntityTracker.java
+++ ../src-work/minecraft/net/minecraft/entity/EntityTracker.java
@@ -209,7 +209,7 @@
         {
             if (this.field_72794_c.func_76037_b(p_72785_1_.func_145782_y()))
             {
-                throw new IllegalStateException("Entity is already tracked!");
+                throw new IllegalStateException("Entity is already tracked with id " + p_72785_1_.func_145782_y());
             }
 
             EntityTrackerEntry entitytrackerentry = new EntityTrackerEntry(p_72785_1_, p_72785_2_, this.field_72792_d, p_72785_3_, p_72785_4_);
@@ -254,6 +254,18 @@
     {
         if (p_72790_1_ instanceof EntityPlayerMP)
         {
+            if(carpet.logging.LoggerRegistry.__invisDebug){ // Added debugger for the complex bug turning players invisible. CARPET-XCOM
+                StackTraceElement[] trace = new Throwable().getStackTrace();
+                String s = "";
+                for(StackTraceElement e : trace){
+                    s += e.toString();
+                    s += "\n";
+                }
+                final String ss = s;
+                carpet.logging.LoggerRegistry.getLogger("invisDebug").log(()-> new net.minecraft.util.text.ITextComponent[]{
+                        carpet.utils.Messenger.s(null, "t1: " + p_72790_1_ + " " + ss)
+                });
+            }
             EntityPlayerMP entityplayermp = (EntityPlayerMP)p_72790_1_;
 
             for (EntityTrackerEntry entitytrackerentry : this.field_72793_b)
@@ -398,4 +410,8 @@
             entitytrackerentry.func_187259_a(this.field_72792_d);
         }
     }
+
+    public Set<EntityTrackerEntry> getEntries(){
+        return field_72793_b;
+    }
 }
